{"ast":null,"code":"import{getUser,addUser,saveCharactersForUser,getCharactersForUser}from\"./database.js\";let loggedInUser=null;export const signup=(username,password)=>{if(getUser(username))return false;addUser({username,password,characters:[]});return true;};export const login=(username,password)=>{const user=getUser(username);if(user&&user.password===password){loggedInUser=user;localStorage.setItem(\"isLoggedIn\",\"true\");localStorage.setItem(\"loggedInUser\",username);return true;}return false;};export const logout=()=>{loggedInUser=null;localStorage.removeItem(\"isLoggedIn\");localStorage.removeItem(\"loggedInUser\");};export const isAuthenticated=()=>{return localStorage.getItem(\"isLoggedIn\")===\"true\";};export const getLoggedInUser=()=>{if(!loggedInUser){const username=localStorage.getItem(\"loggedInUser\");if(username){loggedInUser=getUser(username);}}return loggedInUser;};export const saveCharacters=characters=>{if(loggedInUser){saveCharactersForUser(loggedInUser.username,characters);}};export const getCharacters=()=>{if(loggedInUser){return getCharactersForUser(loggedInUser.username)||[];}return[];};","map":{"version":3,"names":["getUser","addUser","saveCharactersForUser","getCharactersForUser","loggedInUser","signup","username","password","characters","login","user","localStorage","setItem","logout","removeItem","isAuthenticated","getItem","getLoggedInUser","saveCharacters","getCharacters"],"sources":["C:/Users/Asher Stewart/Desktop/gh/dndapp/dnd-hosting/src/utils/auths.js"],"sourcesContent":["import { getUser, addUser, saveCharactersForUser, getCharactersForUser } from \"./database.js\";\r\n\r\nlet loggedInUser = null;\r\n\r\nexport const signup = (username, password) => {\r\n  if (getUser(username)) return false;\r\n  addUser({ username, password, characters: [] });\r\n  return true;\r\n};\r\n\r\nexport const login = (username, password) => {\r\n  const user = getUser(username);\r\n  if (user && user.password === password) {\r\n    loggedInUser = user;\r\n    localStorage.setItem(\"isLoggedIn\", \"true\");\r\n    localStorage.setItem(\"loggedInUser\", username);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const logout = () => {\r\n  loggedInUser = null;\r\n  localStorage.removeItem(\"isLoggedIn\");\r\n  localStorage.removeItem(\"loggedInUser\");\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  return localStorage.getItem(\"isLoggedIn\") === \"true\";\r\n};\r\n\r\nexport const getLoggedInUser = () => {\r\n  if (!loggedInUser) {\r\n    const username = localStorage.getItem(\"loggedInUser\");\r\n    if (username) {\r\n      loggedInUser = getUser(username);\r\n    }\r\n  }\r\n  return loggedInUser;\r\n};\r\n\r\nexport const saveCharacters = (characters) => {\r\n  if (loggedInUser) {\r\n    saveCharactersForUser(loggedInUser.username, characters);\r\n  }\r\n};\r\n\r\nexport const getCharacters = () => {\r\n  if (loggedInUser) {\r\n    return getCharactersForUser(loggedInUser.username) || [];\r\n  }\r\n  return [];\r\n};\r\n"],"mappings":"AAAA,OAASA,OAAO,CAAEC,OAAO,CAAEC,qBAAqB,CAAEC,oBAAoB,KAAQ,eAAe,CAE7F,GAAI,CAAAC,YAAY,CAAG,IAAI,CAEvB,MAAO,MAAM,CAAAC,MAAM,CAAGA,CAACC,QAAQ,CAAEC,QAAQ,GAAK,CAC5C,GAAIP,OAAO,CAACM,QAAQ,CAAC,CAAE,MAAO,MAAK,CACnCL,OAAO,CAAC,CAAEK,QAAQ,CAAEC,QAAQ,CAAEC,UAAU,CAAE,EAAG,CAAC,CAAC,CAC/C,MAAO,KAAI,CACb,CAAC,CAED,MAAO,MAAM,CAAAC,KAAK,CAAGA,CAACH,QAAQ,CAAEC,QAAQ,GAAK,CAC3C,KAAM,CAAAG,IAAI,CAAGV,OAAO,CAACM,QAAQ,CAAC,CAC9B,GAAII,IAAI,EAAIA,IAAI,CAACH,QAAQ,GAAKA,QAAQ,CAAE,CACtCH,YAAY,CAAGM,IAAI,CACnBC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAE,MAAM,CAAC,CAC1CD,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEN,QAAQ,CAAC,CAC9C,MAAO,KAAI,CACb,CACA,MAAO,MAAK,CACd,CAAC,CAED,MAAO,MAAM,CAAAO,MAAM,CAAGA,CAAA,GAAM,CAC1BT,YAAY,CAAG,IAAI,CACnBO,YAAY,CAACG,UAAU,CAAC,YAAY,CAAC,CACrCH,YAAY,CAACG,UAAU,CAAC,cAAc,CAAC,CACzC,CAAC,CAED,MAAO,MAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CACnC,MAAO,CAAAJ,YAAY,CAACK,OAAO,CAAC,YAAY,CAAC,GAAK,MAAM,CACtD,CAAC,CAED,MAAO,MAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CACnC,GAAI,CAACb,YAAY,CAAE,CACjB,KAAM,CAAAE,QAAQ,CAAGK,YAAY,CAACK,OAAO,CAAC,cAAc,CAAC,CACrD,GAAIV,QAAQ,CAAE,CACZF,YAAY,CAAGJ,OAAO,CAACM,QAAQ,CAAC,CAClC,CACF,CACA,MAAO,CAAAF,YAAY,CACrB,CAAC,CAED,MAAO,MAAM,CAAAc,cAAc,CAAIV,UAAU,EAAK,CAC5C,GAAIJ,YAAY,CAAE,CAChBF,qBAAqB,CAACE,YAAY,CAACE,QAAQ,CAAEE,UAAU,CAAC,CAC1D,CACF,CAAC,CAED,MAAO,MAAM,CAAAW,aAAa,CAAGA,CAAA,GAAM,CACjC,GAAIf,YAAY,CAAE,CAChB,MAAO,CAAAD,oBAAoB,CAACC,YAAY,CAACE,QAAQ,CAAC,EAAI,EAAE,CAC1D,CACA,MAAO,EAAE,CACX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}