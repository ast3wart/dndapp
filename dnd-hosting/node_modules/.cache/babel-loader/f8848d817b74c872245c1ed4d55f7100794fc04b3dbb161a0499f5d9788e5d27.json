{"ast":null,"code":"import { getUser, addUser, saveCharactersForUser, getCharactersForUser } from \"./database.js\";\nlet loggedInUser = null;\nexport const signup = (username, password) => {\n  if (getUser(username)) return false;\n  addUser({\n    username,\n    password,\n    characters: []\n  });\n  return true;\n};\nexport const login = (username, password) => {\n  const user = getUser(username);\n  if (user && user.password === password) {\n    loggedInUser = user;\n    localStorage.setItem(\"isLoggedIn\", \"true\");\n    localStorage.setItem(\"loggedInUser\", username);\n    return true;\n  }\n  return false;\n};\nexport const logout = () => {\n  loggedInUser = null;\n  localStorage.removeItem(\"isLoggedIn\");\n  localStorage.removeItem(\"loggedInUser\");\n};\nexport const isAuthenticated = () => {\n  return localStorage.getItem(\"isLoggedIn\") === \"true\";\n};\nexport const getLoggedInUser = () => {\n  if (!loggedInUser) {\n    const username = localStorage.getItem(\"loggedInUser\");\n    if (username) {\n      loggedInUser = getUser(username);\n    }\n  }\n  return loggedInUser;\n};\nexport const saveCharacters = characters => {\n  if (loggedInUser) {\n    saveCharactersForUser(loggedInUser.username, characters);\n  }\n};\nexport const getCharacters = () => {\n  if (loggedInUser) {\n    return getCharactersForUser(loggedInUser.username) || [];\n  }\n  return [];\n};","map":{"version":3,"names":["getUser","addUser","saveCharactersForUser","getCharactersForUser","loggedInUser","signup","username","password","characters","login","user","localStorage","setItem","logout","removeItem","isAuthenticated","getItem","getLoggedInUser","saveCharacters","getCharacters"],"sources":["C:/Users/Asher Stewart/Desktop/gh/dndapp/dnd-hosting/src/utils/auths.js"],"sourcesContent":["import { getUser, addUser, saveCharactersForUser, getCharactersForUser } from \"./database.js\";\r\n\r\nlet loggedInUser = null;\r\n\r\nexport const signup = (username, password) => {\r\n  if (getUser(username)) return false;\r\n  addUser({ username, password, characters: [] });\r\n  return true;\r\n};\r\n\r\nexport const login = (username, password) => {\r\n  const user = getUser(username);\r\n  if (user && user.password === password) {\r\n    loggedInUser = user;\r\n    localStorage.setItem(\"isLoggedIn\", \"true\");\r\n    localStorage.setItem(\"loggedInUser\", username);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const logout = () => {\r\n  loggedInUser = null;\r\n  localStorage.removeItem(\"isLoggedIn\");\r\n  localStorage.removeItem(\"loggedInUser\");\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  return localStorage.getItem(\"isLoggedIn\") === \"true\";\r\n};\r\n\r\nexport const getLoggedInUser = () => {\r\n  if (!loggedInUser) {\r\n    const username = localStorage.getItem(\"loggedInUser\");\r\n    if (username) {\r\n      loggedInUser = getUser(username);\r\n    }\r\n  }\r\n  return loggedInUser;\r\n};\r\n\r\nexport const saveCharacters = (characters) => {\r\n  if (loggedInUser) {\r\n    saveCharactersForUser(loggedInUser.username, characters);\r\n  }\r\n};\r\n\r\nexport const getCharacters = () => {\r\n  if (loggedInUser) {\r\n    return getCharactersForUser(loggedInUser.username) || [];\r\n  }\r\n  return [];\r\n};\r\n"],"mappings":"AAAA,SAASA,OAAO,EAAEC,OAAO,EAAEC,qBAAqB,EAAEC,oBAAoB,QAAQ,eAAe;AAE7F,IAAIC,YAAY,GAAG,IAAI;AAEvB,OAAO,MAAMC,MAAM,GAAGA,CAACC,QAAQ,EAAEC,QAAQ,KAAK;EAC5C,IAAIP,OAAO,CAACM,QAAQ,CAAC,EAAE,OAAO,KAAK;EACnCL,OAAO,CAAC;IAAEK,QAAQ;IAAEC,QAAQ;IAAEC,UAAU,EAAE;EAAG,CAAC,CAAC;EAC/C,OAAO,IAAI;AACb,CAAC;AAED,OAAO,MAAMC,KAAK,GAAGA,CAACH,QAAQ,EAAEC,QAAQ,KAAK;EAC3C,MAAMG,IAAI,GAAGV,OAAO,CAACM,QAAQ,CAAC;EAC9B,IAAII,IAAI,IAAIA,IAAI,CAACH,QAAQ,KAAKA,QAAQ,EAAE;IACtCH,YAAY,GAAGM,IAAI;IACnBC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC;IAC1CD,YAAY,CAACC,OAAO,CAAC,cAAc,EAAEN,QAAQ,CAAC;IAC9C,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC;AAED,OAAO,MAAMO,MAAM,GAAGA,CAAA,KAAM;EAC1BT,YAAY,GAAG,IAAI;EACnBO,YAAY,CAACG,UAAU,CAAC,YAAY,CAAC;EACrCH,YAAY,CAACG,UAAU,CAAC,cAAc,CAAC;AACzC,CAAC;AAED,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EACnC,OAAOJ,YAAY,CAACK,OAAO,CAAC,YAAY,CAAC,KAAK,MAAM;AACtD,CAAC;AAED,OAAO,MAAMC,eAAe,GAAGA,CAAA,KAAM;EACnC,IAAI,CAACb,YAAY,EAAE;IACjB,MAAME,QAAQ,GAAGK,YAAY,CAACK,OAAO,CAAC,cAAc,CAAC;IACrD,IAAIV,QAAQ,EAAE;MACZF,YAAY,GAAGJ,OAAO,CAACM,QAAQ,CAAC;IAClC;EACF;EACA,OAAOF,YAAY;AACrB,CAAC;AAED,OAAO,MAAMc,cAAc,GAAIV,UAAU,IAAK;EAC5C,IAAIJ,YAAY,EAAE;IAChBF,qBAAqB,CAACE,YAAY,CAACE,QAAQ,EAAEE,UAAU,CAAC;EAC1D;AACF,CAAC;AAED,OAAO,MAAMW,aAAa,GAAGA,CAAA,KAAM;EACjC,IAAIf,YAAY,EAAE;IAChB,OAAOD,oBAAoB,CAACC,YAAY,CAACE,QAAQ,CAAC,IAAI,EAAE;EAC1D;EACA,OAAO,EAAE;AACX,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}